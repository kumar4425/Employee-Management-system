{% extends "base.html" %}

{% block content %}
<div class="search-box">
    <form method="GET">
        <input type="text" name="search" placeholder="Search by name..." value="{{ search_query }}">
        <button type="submit">üîç Search</button>
        {% if search_query %}
            <a href="{{ url_for('index') }}" style="margin-left: 10px; color: #007bff;">Clear</a>
        {% endif %}
    </form>
</div>

{% if employees %}
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Email</th>
                <th>Department</th>
                <th>Salary</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
    {% for emp in employees %}
    <tr>
        <td>{{ emp[0] }}</td>
        <td>{{ emp[1] }}</td>
        <td>{{ emp[2] }}</td>
        <td>{{ emp[3] or 'Unassigned' }}</td>
        <td>${{ "%.2f"|format(emp[4]) }}</td>
        <td>
            <a href="{{ url_for('edit_employee', emp_id=emp[0]) }}" style="color: #007bff; margin-right: 10px;">‚úèÔ∏è Edit</a>
            <a href="{{ url_for('delete_employee_route', emp_id=emp[0]) }}"
               onclick="return confirm('‚ö†Ô∏è Are you sure?')"
               style="color: #dc3545;">‚ùå Delete</a>
        </td>
    </tr>
    {% endfor %}
</tbody>
    </table>
{% else %}
    <p>üì≠ No employees found.</p>
{% endif %}
{% endblock %}